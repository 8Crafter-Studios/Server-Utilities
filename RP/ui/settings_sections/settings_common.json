/********************************************************
+*   (c) Mojang. All rights reserved                       *
+*   (c) Microsoft. All rights reserved.                   *
+*********************************************************/

{
  "namespace": "settings_common",

  "option_generic_b": {
    "type": "panel",
    "$option_generic_panel_size|default": [ "100%", "100%c" ],
    "size": "$option_generic_panel_size",
    "$enabled|default": true,
    "$option_enabled_binding_name|default": "",
    "controls": [
      { "option_generic_core_b@settings_common.option_generic_core_b": {} }
    ]
  },

  // option_generic and option_generic_core are separated so that $enabled and
  // $option_enabled_binding_name are guaranteed to be defined - otherwise, the
  // variables section now in option_generic_core chokes.
  "option_generic_core_b": {
    "$allow_data_binding|default": true,
    "$option_label|default": "",
    "$show_option_label|default": true,
    "$label_bindings|default": [],
    "$one_line_layout|default": false,
    "$has_option_description|default": false,
    "$option_description|default": "",
    "$option_enabled_binding_type|default": "global",
    "$option_label_alignment|default": "left",
    "$label_offset|default": [ 0, 0 ],
    "type": "stack_panel",
    "size": [ "100%", "100%c" ],
    "enabled": "$enabled",
    "variables": [
      {
        "requires": "(not $enabled or not $option_enabled_binding_name)",
        "$option_enabled_binding_type": "none",
        "$option_enabled_binding_name": "#not_data_bound"
      }
    ],
    "bindings": [
      {
        "binding_type": "$option_enabled_binding_type",
        "binding_name": "$option_enabled_binding_name",
        "binding_name_override": "#enabled"
      }
    ],
    "controls": [
      {
        "two_line_layout": {
          "ignored": "($one_line_layout)",
          "type": "stack_panel",
          "orientation": "vertical",
          "size": [ "100%", "100%c" ],
          "controls": [
            {
              "option_label_panel": {
                "type": "panel",
                "size": [ "100%", "100%c" ],
                "controls": [
                  {
                    "option_label": {
                      "type": "label",
                      "text_alignment": "$option_label_alignment",
                      "color": "$main_header_text_color",
                      "size": [ "100%", "default" ],
                      "offset": "$label_offset",
                      "layer": 1,
                      "text": "$option_label",
                      "visible": "$show_option_label",
                      "bindings": "$label_bindings",
                      "locked_alpha": 0.5,
                      "enable_profanity_filter": false
                    }
                  }
                ]
              }
            },
            {
              "spacer": {
                "type": "panel",
                "visible": "$show_option_label",
                "size": [ 0, 1 ]
              }
            },
            {
              "option_descriptive_text_0": {
                "ignored": "(not $has_option_description)",
                "type": "label",
                "text_alignment": "$option_label_alignment",
                "size": [ "90%", "default" ],
                "min_size": [ 0, 0 ],
                "color": "$option_description_text_color",
                "text": "$option_description",
                "visible": "$show_option_label",
                "anchor_from": "bottom_left",
                "anchor_to": "bottom_left",
                "locked_alpha": 0.5,
                "enable_profanity_filter": false
              }
            },
            {
              "spacer2": {
                "type": "panel",
                "visible": "$show_option_label",
                "size": [ 0, 1 ]
              }
            },
            {
              "$control_name@$control_name": {
                "anchor_from": "top_left",
                "anchor_to": "top_left"
              }
            }
          ]
        }
      },
      {
        "one_line_layout": {
          "ignored": "(not $one_line_layout)",
          "type": "panel",
          // Since the label and control are on the same line in this layout,
          // the height of the overall control should *not* be the sum of the
          // heights of the two, which is what a height of "100%c" alone would
          // mean, regardless of how the label and control are positioned
          // relative to each other.  Instead, the height should be the max of
          // the two heights.  Right now, the only control using this layout is
          // the toggle, meaning that height is either 16px (the height of the
          // toggle itself) or 100%c-16px (the height of the label, which varies
          // due to line wrapping, and can only be obtained by subtracting the
          // known height of the toggle, 16px, from the sum of the heights of
          // the toggle and label, 100%c.
          // Add 2px for spacing between label and description).
          // If this layout is used for any other controls, then $line_size and
          // $min_line_size will need to be changed accordingly, just like
          // $label_size and $label_offset.
          "$line_size|default": [ "100%", "100%c - 16px + 2px" ],
          "$line_min_size|default": [ "100%", "16px" ],
          "size": "$line_size",
          "min_size": "$line_min_size",
          "$label_size|default": [ "100% - 34px", "default" ],
          "$label_offset|default": [ 34, 3 ],
          "controls": [
            {
              "$control_name@$control_name": {
                "anchor_from": "top_left",
                "anchor_to": "top_left"
              }
            },
            {
              "option_label": {
                "type": "label",
                "color": "$main_header_text_color",
                "text_alignment": "$option_label_alignment",
                "layer": 1,
                "size": "$label_size",
                "offset": "$label_offset",
                "anchor_from": "top_left",
                "anchor_to": "top_left",
                "text": "$option_label",
                "visible": "$show_option_label",
                "bindings": "$label_bindings",
                "locked_alpha": 0.5,
                "enable_profanity_filter": false
              }
            },
            {
              "option_descriptive_text": {
                "ignored": "(not $has_option_description)",
                "type": "label",
                "text_alignment": "$option_label_alignment",
                "size": "$label_size",
                "offset": "$label_offset",
                "min_size": [ 0, 0 ],
                "color": "$option_description_text_color",
                "text": "$option_description",
                "visible": "$show_option_label",
                "anchor_from": "bottom_left",
                "anchor_to": "bottom_left",
                "locked_alpha": 0.5,
                "enable_profanity_filter": false
              }
            }
          ]
        }
      },
      {
        "spacer": {
          "type": "panel",
          "size": [ 0, 4 ]
        }
      }
    ]
  },

  "option_text_edit_control@common.text_edit_box": {
    "$option_text_edit_control_size|default": [ "100%", "30px" ],
    "size": "$option_text_edit_control_size",
    "max_length": "$max_text_edit_length",
    "$text_edit_box_content_binding_name": "$option_binding_name",
    "$text_edit_box_binding_collection_name": "$option_binding_name",
    "$text_edit_box_binding_type": "global",
    "$text_box_enabled_binding_name": "$option_enabled_binding_name",
    "enabled": "$enabled",
    "$place_holder_text": "$option_place_holder_text",
    "$text_box_tts_header": "$option_label",
    "$tts_override_control_value|default": " ",
    "tts_override_control_value": "$tts_override_control_value",
    "$place_holder_control": "settings_common.text_edit_box_place_holder_label_b",

    "variables": [
      {
        "requires": "(not $option_enabled_binding_name or not $enabled)",
        "$text_box_enabled_binding_name": "#not_data_bound",
        "$text_edit_box_enabled_binding_type": "none"
      }
    ]
  },

  "text_edit_box_place_holder_label_b@common.text_edit_box_place_holder_label": {
    "enable_profanity_filter": false
  },

  "option_text_edit_b@settings_common.option_generic_b": {
    "$option_place_holder_text|default": "",
    "$max_text_edit_length|default": 30,
    "$control_name": "settings_common.option_text_edit_control"
  }
}
